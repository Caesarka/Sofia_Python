<html>
<head>
  <h1>Realty Listings (SSR/CSR)</h1>
  <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
  <div>
    <a href="/">Back to root</a>
  </div>

  <div>
    <div id="cards-container"></div>
  </div>

  <script>
  document.addEventListener('DOMContentLoaded', (event) => {
    fetch('/api/realty/')
      .then(r=>r.json())
      .then(data=>{
        const container = document.getElementById("cards-container");
        container.innerHTML = '';
        console.log(data);
        data.forEach(item=>{
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
          <div class="card-body">
            <img src="${item.image ?? 'assets/default.jpg'}" alt="${item.title}">
            <div class="card-title">${item.title}</div>
            <div class="card-price">${item.price}</div>
            <div class="card-city">${item.city}</div>
          </div>
          `;
          container.appendChild(card);
        });
      });
  });
  </script>
</body>
</html>
